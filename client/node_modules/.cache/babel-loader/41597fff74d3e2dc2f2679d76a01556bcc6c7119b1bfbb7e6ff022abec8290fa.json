{"ast":null,"code":"var _jsxFileName = \"/home/mbeale/Development/code/phase-5/Fantasy_Cycling/client/src/pages/StageResults.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchStages, fetchStageResults } from \"../store/slices/stageSlice\";\nimport RiderResults from \"../components/RiderResults\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StageResults = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    stages,\n    currentStageResults,\n    loading\n  } = useSelector(state => state.stages);\n  const [selectedStage, setSelectedStage] = useState(\"\");\n  useEffect(() => {\n    dispatch(fetchStages());\n  }, [dispatch]);\n  useEffect(() => {\n    if (selectedStage) {\n      dispatch(fetchStageResults(selectedStage));\n    }\n  }, [dispatch, selectedStage]);\n  const handleStageChange = e => {\n    setSelectedStage(e.target.value);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stage-results\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Stage Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedStage,\n      onChange: handleStageChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a stage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), stages.map(stage => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: stage.id,\n        children: [\"Stage \", stage.number, \": \", stage.type, \" -\", \" \", new Date(stage.date).toLocaleDateString(), stage.is_rest_day ? \" (Rest Day)\" : \"\"]\n      }, stage.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), selectedStage && currentStageResults.length > 0 ? /*#__PURE__*/_jsxDEV(RiderResults, {\n      results: currentStageResults\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Select a stage to view results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(StageResults, \"gA/xe3EUe4nI7Pj/m5NeDrKZuWc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = StageResults;\nexport default StageResults;\nvar _c;\n$RefreshReg$(_c, \"StageResults\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchStages","fetchStageResults","RiderResults","jsxDEV","_jsxDEV","StageResults","_s","dispatch","stages","currentStageResults","loading","state","selectedStage","setSelectedStage","handleStageChange","e","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","map","stage","id","number","type","Date","date","toLocaleDateString","is_rest_day","length","results","_c","$RefreshReg$"],"sources":["/home/mbeale/Development/code/phase-5/Fantasy_Cycling/client/src/pages/StageResults.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchStages, fetchStageResults } from \"../store/slices/stageSlice\";\nimport RiderResults from \"../components/RiderResults\";\n\nconst StageResults = () => {\n  const dispatch = useDispatch();\n  const { stages, currentStageResults, loading } = useSelector(\n    (state) => state.stages\n  );\n  const [selectedStage, setSelectedStage] = useState(\"\");\n\n  useEffect(() => {\n    dispatch(fetchStages());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (selectedStage) {\n      dispatch(fetchStageResults(selectedStage));\n    }\n  }, [dispatch, selectedStage]);\n\n  const handleStageChange = (e) => {\n    setSelectedStage(e.target.value);\n  };\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"stage-results\">\n      <h1>Stage Results</h1>\n      <select value={selectedStage} onChange={handleStageChange}>\n        <option value=\"\">Select a stage</option>\n        {stages.map((stage) => (\n          <option key={stage.id} value={stage.id}>\n            Stage {stage.number}: {stage.type} -{\" \"}\n            {new Date(stage.date).toLocaleDateString()}\n            {stage.is_rest_day ? \" (Rest Day)\" : \"\"}\n          </option>\n        ))}\n      </select>\n\n      {selectedStage && currentStageResults.length > 0 ? (\n        <RiderResults results={currentStageResults} />\n      ) : (\n        <p>Select a stage to view results</p>\n      )}\n    </div>\n  );\n};\n\nexport default StageResults;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,WAAW,EAAEC,iBAAiB,QAAQ,4BAA4B;AAC3E,OAAOC,YAAY,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEU,MAAM;IAAEC,mBAAmB;IAAEC;EAAQ,CAAC,GAAGX,WAAW,CACzDY,KAAK,IAAKA,KAAK,CAACH,MACnB,CAAC;EACD,MAAM,CAACI,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEtDD,SAAS,CAAC,MAAM;IACdW,QAAQ,CAACP,WAAW,CAAC,CAAC,CAAC;EACzB,CAAC,EAAE,CAACO,QAAQ,CAAC,CAAC;EAEdX,SAAS,CAAC,MAAM;IACd,IAAIgB,aAAa,EAAE;MACjBL,QAAQ,CAACN,iBAAiB,CAACW,aAAa,CAAC,CAAC;IAC5C;EACF,CAAC,EAAE,CAACL,QAAQ,EAAEK,aAAa,CAAC,CAAC;EAE7B,MAAME,iBAAiB,GAAIC,CAAC,IAAK;IAC/BF,gBAAgB,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EAED,IAAIP,OAAO,EAAE;IACX,oBAAON,OAAA;MAAAc,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,oBACElB,OAAA;IAAKmB,SAAS,EAAC,eAAe;IAAAL,QAAA,gBAC5Bd,OAAA;MAAAc,QAAA,EAAI;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtBlB,OAAA;MAAQa,KAAK,EAAEL,aAAc;MAACY,QAAQ,EAAEV,iBAAkB;MAAAI,QAAA,gBACxDd,OAAA;QAAQa,KAAK,EAAC,EAAE;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACvCd,MAAM,CAACiB,GAAG,CAAEC,KAAK,iBAChBtB,OAAA;QAAuBa,KAAK,EAAES,KAAK,CAACC,EAAG;QAAAT,QAAA,GAAC,QAChC,EAACQ,KAAK,CAACE,MAAM,EAAC,IAAE,EAACF,KAAK,CAACG,IAAI,EAAC,IAAE,EAAC,GAAG,EACvC,IAAIC,IAAI,CAACJ,KAAK,CAACK,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EACzCN,KAAK,CAACO,WAAW,GAAG,aAAa,GAAG,EAAE;MAAA,GAH5BP,KAAK,CAACC,EAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIb,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,EAERV,aAAa,IAAIH,mBAAmB,CAACyB,MAAM,GAAG,CAAC,gBAC9C9B,OAAA,CAACF,YAAY;MAACiC,OAAO,EAAE1B;IAAoB;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAE9ClB,OAAA;MAAAc,QAAA,EAAG;IAA8B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACrC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChB,EAAA,CA9CID,YAAY;EAAA,QACCP,WAAW,EACqBC,WAAW;AAAA;AAAAqC,EAAA,GAFxD/B,YAAY;AAgDlB,eAAeA,YAAY;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}